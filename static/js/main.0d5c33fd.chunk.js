(this.webpackJsonptwitch_api_project=this.webpackJsonptwitch_api_project||[]).push([[0],{11:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(6),a=n.n(r),s=(n(11),n(4)),i=n.n(s),o=n(3),h=n(5),j="SET_TOKEN",u="SET_STREAMS",l={token:"",streams:[]},d=function(t){return{type:u,streams:t}},b=n(1),p=function(t){var e=Object(o.c)((function(t){return t.api.token})),n=Object(o.b)();return Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("h1",{children:"Most popular streamers on twitch"}),Object(b.jsx)("button",{className:"refresh-button",onClick:function(){i.a.get("https://api.twitch.tv/helix/streams/",{headers:{Authorization:"Bearer ".concat(e),"Client-Id":"58qdnq5g4b69ahtaqe0lpeeku75r2g"}}).then((function(t){return t.data.data})).then((function(t){n(d(t))}))},children:"Refresh"})]})},O=function(t){var e=Object(o.c)((function(t){return t.api.streams}));return e?Object(b.jsx)("div",{className:"streams-list",children:e.map((function(t){return Object(b.jsxs)("div",{className:"stream-container",children:[Object(b.jsx)("img",{src:t.thumbnail_url.replace("{width}","300").replace("{height}","200"),alt:""}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Game:"})," ",t.game_name]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"Streamer: "}),t.user_name]}),Object(b.jsxs)("p",{className:"viewers",children:[t.viewer_count,Object(b.jsx)("span",{children:" viewers"})]}),Object(b.jsx)("a",{className:"twitch-link",href:"https://www.twitch.tv/".concat(t.user_login),children:"Watch on twitch"})]})}))}):Object(b.jsx)("div",{children:"Wait for.."})},f=function(t){var e=Object(o.c)((function(t){return t.api.token})),n=Object(o.b)(),r="58qdnq5g4b69ahtaqe0lpeeku75r2g";return Object(c.useEffect)((function(){e||i.a.post("https://id.twitch.tv/oauth2/token?client_id=".concat(r,"&client_secret=").concat("h4d7y27vz1xs0894q4ypnjryg39lvk","&grant_type=client_credentials")).then((function(t){return t.data.access_token})).then((function(t){n(function(t){return{type:j,token:t}}(t)),i.a.get("https://api.twitch.tv/helix/streams/",{headers:{Authorization:"Bearer ".concat(t),"Client-Id":r}}).then((function(t){return t.data.data})).then((function(t){n(d(t))}))}))}),[]),Object(b.jsx)(O,{})};var m=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(p,{}),Object(b.jsx)(f,{})]})},x=n(10),v=Object(x.a)({api:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return Object(h.a)(Object(h.a)({},t),{},{token:e.token});case u:return Object(h.a)(Object(h.a)({},t),{},{streams:e.streams});default:return t}}}),w=Object(x.b)(v);window.store=w;var _=w;a.a.render(Object(b.jsx)(o.a,{store:_,children:Object(b.jsx)(m,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.0d5c33fd.chunk.js.map